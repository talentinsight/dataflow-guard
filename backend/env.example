# DTO Backend Environment Variables

# Database (Run Store)
DATABASE_URL=postgresql://dto:dto@localhost:5432/dto

# Artifact Storage
ARTIFACT_STORAGE_TYPE=s3
ARTIFACT_STORAGE_CONFIG={"endpoint_url":"http://localhost:9000","access_key":"minioadmin","secret_key":"minioadmin","bucket_name":"dto-artifacts","region":"us-east-1"}

# Snowflake Connection (required for real runs)
SNOWFLAKE_ACCOUNT=xy12345.eu-west-1
SNOWFLAKE_USER=dfg_runner
# Choose ONE auth method:
SNOWFLAKE_PASSWORD=****************
# OR key pair:
# SNOWFLAKE_PRIVATE_KEY_PATH=/run/secrets/snowflake_rsa_key
# SNOWFLAKE_PRIVATE_KEY_PASSPHRASE=********

SNOWFLAKE_ROLE=DFG_RO
SNOWFLAKE_WAREHOUSE=ANALYTICS_WH
SNOWFLAKE_DATABASE=PROD_DB
SNOWFLAKE_SCHEMA=RAW
SNOWFLAKE_REGION=eu-west-1
SNOWFLAKE_HOST=xy12345.snowflakecomputing.com

# Runner Budgets & Safety
DFG_SELECT_TIMEOUT=60
DFG_SCAN_BUDGET_BYTES=0
DFG_SAMPLE_LIMIT=1000
DFG_ALLOWED_SCHEMAS=PROD_DB.RAW,PROD_DB.PREP,PROD_DB.MART
DFG_NETWORK_ALLOWLIST=*.snowflakecomputing.com
DFG_QUERY_TAG=DataFlowGuard
DFG_LOG_PII=false

# Security Policies (secure defaults)
EXTERNAL_AI_ENABLED=false
SQL_PREVIEW_ENABLED=false
ADMIN_POWER_MODE=false
PII_REDACTION_ENABLED=true
STATIC_SECRETS_FORBIDDEN=true

# Logging
LOG_LEVEL=INFO

# CORS
CORS_ORIGINS=http://localhost:3000

# Optional Proxy / Vault
HTTP_PROXY=
HTTPS_PROXY=
NO_PROXY=localhost,127.0.0.1
VAULT_ADDR=
VAULT_TOKEN=
